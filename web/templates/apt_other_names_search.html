<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>APT Other Names Search</title>
    <link rel="stylesheet" href="/static/css/apt_other_names_search.css">
</head>
<body>
<div class="top-nav">
    <a href="/" class="nav-home">
        <img src="{{ url_for('static', filename='icons/home.svg') }}" alt="Home" class="nav-icon" style="width:32px;height:32px;">
    </a>
    <div class="nav-music" style="margin-left:auto;">
        <button type="button" onclick="toggleAptAudio()" style="background:none;border:none;cursor:pointer;padding:0 8px;">
            <img src="/static/icons/volume-xmark-solid.svg" alt="Music Icon" class="music-icon" id="apt-music-icon" style="width:32px;height:32px;">
        </button>
        <audio id="apt-music" src="/static/audio/the-best-jazz-club-in-new-orleans-164472.mp3" loop></audio>
    </div>
</div>
<div class="container">
    <h1>APT Other Names Search</h1>
    <form id="searchForm" action="/api/apt-other-names" method="get">
        <label for="common_name">APT Common Name:</label>
        <div class="autocomplete-container">
            <input type="text" id="common_name" name="common_name" value="{{ common_name }}" required autocomplete="off" placeholder="Start typing to see suggestions...">
            <span class="dropdown-indicator">â–¼</span>
            <div id="autocomplete-dropdown" class="autocomplete-dropdown"></div>
        </div>
        <div class="help-text">ðŸ’¡ Start typing any APT name to see autocomplete suggestions (e.g., "APT", "Lazarus", "28")</div>
        <div class="controls-row">
            <div class="metadata-slider-container">
                <span class="metadata-slider-label">Include Metadata?</span>
                <div class="slider-container">
                    <div class="metadata-slider-option active" data-value="no">No</div>
                    <div class="metadata-slider no" id="metadataSlider"></div>
                    <div class="metadata-slider-option" data-value="yes">Yes</div>
                </div>
                <input type="hidden" id="should_include_metadata" name="should_include_metadata" value="false">
            </div>
            <div class="response-format-container">
                <span class="response-format-label">Response Format:</span>
                <div class="slider-container">
                    <div class="slider-option active" data-value="html">HTML</div>
                    <div class="response-format-slider html" id="responseFormatSlider"></div>
                    <div class="slider-option" data-value="json">JSON</div>
                </div>
                <input type="hidden" id="response_format" name="response_format" value="html">
            </div>
            <div class="button-container">
                <button type="submit">Search</button>
                <div id="spinner" class="spinner" style="display:none;"></div>
            </div>
        </div>
    </form>
</div>
<script>
    // Make APT names data available globally for the search script
    window.aptNames = {{ apt_names | tojson }};
</script>
<script src="/static/js/apt_other_names_search.js"></script>
</body>
</html>
