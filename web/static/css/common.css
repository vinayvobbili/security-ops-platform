/* Common navigation + layout baseline */
:root { --nav-height: 70px; --nav-extra: 0px; }
html, body { margin: 0; padding: 0; }
body { margin: 0; padding: calc(var(--nav-height) + var(--nav-extra)) 0 0; }
/* Utility nav offset classes */
.nav-extra-sm { --nav-extra: 16px; }
.nav-extra-md { --nav-extra: 32px; }
.nav-extra-lg { --nav-extra: 48px; }

/* Utility (may be used elsewhere) */
.below-nav { margin-top: var(--nav-height); }

.top-nav {
    background: rgba(0, 70, 173, 0.9);
    backdrop-filter: blur(15px);
    border-bottom: 2px solid #00A651;
    padding: 8px 16px;
    position: fixed;
    top: 0; left: 0; right: 0;
    height: var(--nav-height);
    z-index: 1000;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 16px;
}

/* --- Shared Gradient Title Styling (available globally) --- */
.dashboard-title {
    font-size: 3.2rem;
    font-weight: 800;
    background: linear-gradient(135deg,#667eea 0%,#764ba2 25%,#f093fb 50%,#f5576c 75%,#4facfe 100%);
    background-size: 400% 400%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin: 0;
    letter-spacing: -0.02em;
    line-height: 1.05;
    position: relative;
    animation: gradientShift 6s ease-in-out infinite;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
    padding: 4px 0;
    text-align: center;
}
.title-icon {
    font-size: 3rem;
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
    animation: iconPulse 3s ease-in-out infinite;
    display: inline-block;
    background: none;
    -webkit-background-clip: initial;
    -webkit-text-fill-color: initial;
    background-clip: initial;
    color: #667eea;
}

.title-icon.left {
    animation-delay: 0s;
}

.title-icon.right {
    animation-delay: 1.5s;
}
@keyframes iconPulse { 0%,100% { transform:scale(1);} 50% { transform:scale(1.1);} }
@keyframes gradientShift { 0%,100% { background-position:0 50%; } 50% { background-position:100% 50%; } }
body.dark-mode .dashboard-title { filter: drop-shadow(0 6px 14px rgba(0,0,0,0.6)); }
/* Integrate title when placed inside top nav */
.top-nav .dashboard-title { flex:1; font-size:2.2rem; line-height:1; }
.top-nav .dashboard-title .title-icon { font-size:2.4rem; }
/* Responsive adjustments */
@media (max-width:1200px){ .top-nav .dashboard-title { font-size:2rem; } .top-nav .dashboard-title .title-icon { font-size:2.2rem; } }
@media (max-width:880px){ .top-nav .dashboard-title { font-size:1.8rem; } .top-nav .dashboard-title .title-icon { font-size:2rem; } }
@media (max-width:620px){ .top-nav .dashboard-title { font-size:1.6rem; } .top-nav .dashboard-title .title-icon { font-size:1.8rem; } }
/* --- End Shared Title Styling --- */

.nav-home { /* unchanged except nav height context */
    cursor: pointer;
    padding: 0;
    border-radius: 50%;
    transition: all 0.3s ease;
    display: inline-block;
    margin-left: 0;
    background: none;
    position: fixed;
    top: 8px; left: 24px;
    z-index: 1100;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}
.nav-home:hover { background: rgba(255,255,255,0.2); transform: scale(1.05); }
.nav-icon { width: 52px; height: 52px; transition: transform 0.3s ease; }
.nav-home:hover .nav-icon { transform: rotate(-15deg) scale(1.1); }

.nav-burger { cursor: pointer; padding: 6px; border-radius: 8px; transition: all 0.3s ease; display: inline-block; margin-left: -5px; }
.nav-burger:hover { background: rgba(255,255,255,0.2); transform: scale(1.05); }
.nav-burger .nav-icon { width: 30px !important; height: 30px !important; transition: transform 0.3s ease; }
.nav-burger:hover .nav-icon { transform: rotate(90deg); }

.burger-menu-content {
    position: absolute; top: 100%; left: 0;
    background: linear-gradient(135deg, rgba(0,70,173,0.95) 0%, rgba(74,139,194,0.95) 50%, rgba(0,166,81,0.95) 100%);
    backdrop-filter: blur(25px);
    border-radius: 16px;
    box-shadow: 0 15px 40px rgba(0,70,173,0.4), 0 5px 15px rgba(0,166,81,0.2);
    padding: 16px 0; min-width: 260px;
    animation: slideDownMenu 0.35s cubic-bezier(0.34,1.56,0.64,1);
    border: 2px solid rgba(255,255,255,0.3);
    overflow: hidden;
}
@keyframes slideDownMenu { from { opacity:0; transform: translateY(-8px) scale(.95);} to { opacity:1; transform: translateY(0) scale(1);} }
.burger-menu-content a { display:block; padding:12px 22px; text-decoration:none; color:#1a2332 !important; font-weight:600; font-size:.95rem; transition:all .3s ease; position:relative; border-left:4px solid transparent; }
.burger-menu-content a:hover { background: rgba(255,255,255,0.25); color:#1a2332 !important; border-left:4px solid #1a2332; transform: translateX(4px); box-shadow: inset 0 0 12px rgba(255,255,255,0.1); }

/* Dark mode variants */
body.dark-mode .top-nav {
    background: rgba(20,25,32,0.88);
    border-bottom-color: #00A651;
}
body.dark-mode .burger-menu-content {
    background: linear-gradient(135deg, rgba(32,40,52,0.95) 0%, rgba(20,25,32,0.95) 60%, rgba(0,166,81,0.85) 100%);
    border-color: rgba(255,255,255,0.25);
}
body.dark-mode .burger-menu-content a { color: #f0f4f8 !important; }
body.dark-mode .burger-menu-content a:hover { color: #ffffff !important; border-left-color: #00A651; }
body.dark-mode .audio-controls button { background: rgba(32,40,52,0.85); border-color: #00A651; }
body.dark-mode .audio-controls button:hover { background: #00A651; }

/* Consolidated audio control styles */
.audio-controls { position: fixed !important; top: 6px !important; right: 15px !important; z-index: 2000 !important; }
.audio-controls button { background: rgba(0,70,173,0.8); border: 3px solid #00A651; border-radius: 50%; padding: 8px; cursor:pointer; backdrop-filter: blur(10px); transition: all 0.3s ease; width:40px; height:40px; display:flex; align-items:center; justify-content:center; box-shadow:0 4px 15px rgba(0,166,81,0.4); }
.audio-controls button:hover { background: rgba(0,166,81,0.9); transform: scale(1.18) rotate(12deg); box-shadow:0 8px 25px rgba(0,166,81,0.8); border-color:white; }
.music-icon { width:24px; height:24px; filter: drop-shadow(0 0 4px rgba(255,255,255,0.6)); transition: all .3s ease; }
.audio-controls button:hover .music-icon { transform: scale(1.15) rotate(-15deg); filter: hue-rotate(120deg) saturate(2) brightness(1.25) drop-shadow(0 0 10px rgba(0,255,127,1)); }
/* Enhanced variant (opt-in) */
.audio-controls--enhanced button:hover { transform: scale(1.25) rotate(18deg); }
.audio-controls--enhanced button:hover .music-icon { transform: scale(1.25) rotate(-20deg); }

/* Audio control placement & size variants */
.audio-top-left { top:6px !important; left:15px !important; right:auto !important; }
.audio-bottom-right { bottom:20px !important; top:auto !important; right:20px !important; }
.audio-bottom-left { bottom:20px !important; top:auto !important; left:20px !important; right:auto !important; }
.audio-large button { width:56px; height:56px; }
.audio-large .music-icon { width:30px; height:30px; }
/* Ensure fixed positioning inherits */
.audio-controls.audio-top-left,
.audio-controls.audio-bottom-right,
.audio-controls.audio-bottom-left { position:fixed !important; }

/* Remove layout mode classes & toggle fluff */
html, body { margin:0 !important; }
.top-nav { top:0 !important; margin:0 !important; }
body { padding-top: var(--nav-height) !important; }
html { scroll-padding-top: var(--nav-height); }

/* Prefers-reduced-motion support */
@media (prefers-reduced-motion: reduce) {
    * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; }
    .nav-burger:hover .nav-icon { transform: none !important; }
    .audio-controls button:hover { transform: none !important; }
    .audio-controls button:hover .music-icon { transform: none !important; }
}

/* (Compact / super-compact variants and layout-toggle removed) */

.sr-only { position:absolute !important; width:1px !important; height:1px !important; padding:0 !important; margin:-1px !important; overflow:hidden !important; clip:rect(0,0,0,0) !important; white-space:nowrap !important; border:0 !important; }
